# sm3生日攻击实现
本项目进行简单的sm3的生日攻击，我们在实现的时候为了快速得到部分结果，我们采取使用部分碰撞的形式，即设定参数来设定我们碰撞的字节数（比特数）。若该参数设定为64字节，即寻找全碰撞。攻击函数还有另外两个参数，分别表示产生随机数的列表长度和尝试次数。

sm3算法本身采取gmssl库中的sm3算法实现，为了能够运行该代码，应当安装gmssl库并导入sm3模块。

我们在2^64的范围内随机选择不同的数，这些数的转做字符串，将这些数字作为消息进行哈希运算，记录其哈希值，并且按照我们设定的前n字节进行归类，具有相同的前n位的原消息保存在一起，当我们尝试过设定轮数的数后查看有2个以上相同哈希值的列表，并再将其进行sm3运算来进行检查。如果找到了这样的列表，说明我们找到了这样的碰撞（前n字节）。反之，则输出“No collision”表示没有找到这样的碰撞。

代码部分说明：我们将消息全部以整数的形式代表。代码部分主要功能是在一个范围内随机的生成不同的整数并保存，然后对于这些整数进行遍历，每一个整数都转化为消息使用gmssl库中的sm3实现进行加密得到一个哈希值，再将这个哈希值的前n字节（根据输入的参数设置）与这个消息以键值对的形式存储，哈希值为字典的键，值为能够生成该哈希值的原消息。最终遍历完毕后函数将所有的产生碰撞的消息全部生成。
函数接收三个参数：listlen代表生成的随机数的个数为2的listlen次方，round代表遍历表中随机数的个数为2的round次方，hashlen代表希望产生碰撞的前n个字节。

运行时需要设定参数的具体数值，一个实现实例如下：

![(R(P7Q%$(VX67UUL3 4GC_0](https://user-images.githubusercontent.com/105530561/180148612-4227006e-8f3a-4324-adc9-b2b54b1b1936.png)

如图显示我们找到了一组前6字节的碰撞。
